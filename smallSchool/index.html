
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mitr|Athiti">

    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        body, p {  font-family: 'Athiti', sans-serif; } 
        h1, h2 {   font-family: 'Mitr', sans-serif;  text-align: center; } }
        h3, h4, h5, h6 {   font-family: 'Athiti', sans-serif; text-align: center; }


    </style>
</head>
<body>

<style>
#map {
    position: fixed;
    width:50%;
}
#features {
    width: 50%;
    margin-left: 50%;
    font-family: serif;
    overflow-y: scroll;
    background-color: #fafafa;

}
section {
    padding:  50px 100px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 20px;
}
section.active {
    opacity: 1;
    background-color: #FFF2D2;

}
section:last-child {
    border-bottom: none;
    margin-bottom: 1000px;    
}

.title {
    text-align: center;
    
}

.title-blue{
    color: #1A68FF;    
}

.title-black{
    color: #000000;
}

.header {
    text-align: center;
}

div {
    /*padding: 25x 25x;*/
    /*background-color: grey;*/
}

img {
  display: block;
  /*margin-left: auto;*/
  /*margin-right: auto;*/
  margin: auto;
  max-height: 100%;
}

img.logo {
  max-width: 100%;
}

</style>

<div id='map'></div>
<div id='features'>
    <section id='frontPage' class='active'>
        <div>
            <div> <h4 class="title">รายงานเรื่อง</h2></div>
            <br/>
            <br/>
            <img src="./images/Cover.png">
            <br><br>
            <div><h4 class="title"> จัดทำโดย</h2></div>
            <br/><br/>
            <div><h2>Data Journalism Workshop 2020</h3><div>
            <br/><br/>
        </div>        
    </section>
    <section id='background' class='active'>
        <h3>ความเป็นมา</h3>
        <div>
            <p>ภายใต้รัฐธรรมนูญที่กำหนดให้รัฐ “ต้อง” จัดการศึกษาให้แก่ประชาชน คำถามหนึ่งที่ถูกถามและเป็นปัญหามาอย่างยาวนานว่าจะออกแบบการศึกษาหรือ “โรงเรียน” อย่างไรให้ทั้ง “ถูก” และ “ดี” ?
ในมิติหนึ่งหากดู “การจัดสรรงบประมาณ” ของรัฐให้แก่โรงเรียน 40,000 แห่งในปัจจุบันแบบ “เหมาจ่าย” ต่อหัวนักเรียน ซึ่งสะท้อนมุมมองของรัฐที่ว่าเด็กทุกคนต้องได้รับทรัพยากรเท่ากันอย่างไม่เลือกปฏิบัติ แต่การตั้งกฎกติกาในปัจจุบันจะสามารถตอบโจทย์การศึกษาที่ถูกและดีในโรงเรียนที่มีความแตกต่างกันในแต่ละพื้นที่ได้ดีเพียงใด หากไม่ จะมีทางออกอะไรบ้างสำหรับโรงเรียน และใครจะเป็นคนตัดสิน… ?</p>
        </div>     
    </section>
    <section id='composition' class='active' >    	
        <h3>องค์ประกอบของโรงเรียน</h3>
        <div>
            <p>ก่อนที่จะตอบคำถามดังกล่าว อาจจะต้อง ถอยออกไปและถามว่าอะไรทำให้โรงเรียนยังเป็นโรงเรียนอยู่ได้และทำหน้าที่ให้การศึกษาที่ถูกและดีได้? มองอย่างผิวเผินองค์ประกอบของโรงเรียนควรจะต้องประกอบด้วย การเรียนการสอนที่มีคุณภาพ, เงินงบประมาณที่เพียงพอ และต้องสอดคล้องกับพื้นที่และชุมชน เช่นเดินทางสะดวกหรือสอดรับกับความเชื่อทางศาสนา เป็นต้น</p>
        </div>
    </section>
    <section id='declineTrend' class='active'>
        <h3>ปริมาณลดลงของเด็กและโรงเรียน</h3>
        <img src="./images/Trend.png">
        <div>
            <p>อย่างไรก็ตาม จากความจริงที่ว่าภายใต้นโยบายการจัดสรรงบประมาณปัจจุบัน ขนาดของโรงเรียนย่อมเกี่ยวข้องกับความสามารถในการคงอยู่ของโรงเรียนอย่างมาก จากนโยบายยแบบนี้แปลว่าโรงเรียนขนาดใหญ่กว่าจะมีงบประมาณรวมมากกว่า ขณะที่โรงเรียนขนาดเล็กกว่าจะได้รับงบประมาณรวมน้อยกว่า แม้ว่างบประมาณต่อหัวนักเรียนจะเท่ากันก็ตาม
และด้วยแนวโน้มของเด็กเกิดใหม่ที่ลดลงอย่างต่อเนื่องและรงเรียนขนาดเล็กมีแนวโน้มเพิ่มขึ้นในทุกปี ทั้งแง่จำนวนโรงเรียนและจำนวนเด็กต่อโรงเรียน และกดดันให้เสา “งบประมาณ” ของโรงเรียนคลอนแคลนใกล้จะล้มลงเต็มที</p>
        </div>
    </section>
    <section id='crisis' class='active'>
        <h3>วิกฤติของโรงเรียนเล็ก</h3>
        <div>
            <p>กลายเป็นวิกฤตของโรงเรียนขนาดเล็กที่ไม่อาจจะคงอยู่ได้ต่อไปในอนาคต และเป็นปัญหาสำคัญที่รัฐบาล รวมไปถึงประชาชนหรือชุมชนที่เกี่ยวข้องโดยตรงต้องเร่งหาทางออกให้ได้ แล้วแต่ละคนมองทางออกของปัญหานี้ไว้อย่างไร?</p>
        </div>
    </section>
    <section id='wayout' class='active'>
        <h3>ทางออกของโรงเรียนเล็ก</h3>
        <div>
            <p>ทางออกแรกถูกเสนอตรงมาจากภาครัฐเองว่าหากโรงเรียนขนาดเล็กมีงบประมาณไม่เพียงพอ เพราะจำนวนนักเรียนน้อยเกินไป ดังนั้นควรจะยุบหรือควบรวมโรงเรียนขนาดเล็กดข้าด้วยกันหรือเข้ากับโรงเรียนขนาดใหญ่ขึ้น เพื่อให้มีงบประมาณเพียงพอจะจัดการศึกษาได้ รวมไปถึงภาครัฐยังเชื่ออีกว่าคุณภาพการศึกษาจะดีขึ้นด้วย
        อย่างไรก็ตาม ทางออกนี้อาจจะทำให้บทบาทของโรงเรียนไม่สอดคล้องกับความต้องการของชุมชนอีกต่อไป เช่น ต้องเดินทางไกลขึ้น มีต้นทุนค่าใช้จ่ายมากขึ้น หรือเรียนรู้ค่านิยมใหม่ที่ชุมชนไม่อยากให้เด็กเรียนรู้</p>
        </div>
    </section>
    <section id='casePatum' class='active'>
        <h3>กรณีศึกษา ปทุมธานี</h3>
        <div>
            <p>นอกจากนี้ การ “เลือก” ของรัฐอาจจะมีหลายแบบ และในแต่ละแบบย่อมต้องมีผลกระทบกับผู้คนที่แตกต่างกันด้วย ไม่ว่าจะเป็นต้นทุนการเดินทาง การประหยัดจากขนาดที่เกิดขึ้นในแต่ละโรงเรียน ฯลฯ</p>
        </div>
    </section>
    <section id='kangjun' class='active'>
        <h3>การปรับตัวของโรงเรียนทางการบริหาร</h3>
        <div>
            <p>ทางออกที่สองมาจากตัวโรงเรียนขนาดเล็กที่ต้องหาทางจัดรูปแบบการเรียนการสอนใหม่ให้ประหยัดงบประมาณมากขึ้น ตัวอย่างหนึ่งคือการรวมกลุ่มโรงเรียนขนาดเล็กที่ใกล้กันเป็น “เครือข่ายโรงเรียน” ที่ใช้งบประมาณร่วมกันอย่างมีประสิทธิภาพ 
                กรณีศึกษาของ “แก่งจันทร์โมเดล” เป็นการรวมตัวกันของโรงเรียนขนาดเล็ก 4 แห่งในเขตพื้นที่จังหวัดเลยที่มีการจัดการเรียนการสอนในระดับชั้นอนุบาลาจนถึงประถม 6 ที่อยู่ห่างกันไม่ถึง 10 กิโลเมตร และรับภาระหน้าที่การสอนแค่บางช่วงชั้น เปรียบเสมือนเป็นโรงเรียนเดียวกัน แต่กระจายอยู่คนละพื้นที่ เช่น

                โรงเรียน ก รับผิดชอบการสอนเฉพาะระดับชั้นประถมศึกษาปีที่ 1 – 2
                โรงเรียน ข รับผิดชอบการสอนเฉพาะระดับชั้นประถมศึกษาปีที่ 3 – 4
                โรงเรียน ค รับผิดชอบการสอนเฉพาะระดับชั้นประถมศึกษาปีที่ 5 – 6
            ประโยชน์จากการจัดการสอนแบบนี้ ทำให้จำนวนครูเฉลี่ยต่อระดับชั้นมากขึ้น นอกจากนี้ เมื่อห้องเรียนมีจำนวนนักเรียนมากขึ้นจนถึงขนาดที่เหมาะสมจะช่วยสร้างการประหยัดจากขนาด (อาจจะน้อยกว่าทางออกแรก) อย่างไรก็ตาม สำหรับการเดินทางระหว่างโรงเรียนที่อาจจะเพิ่มขึ้นยังเป็นจุดอ่อนสำคัญของโมเดลนี้ที่จะต้องจัดหาค่าใช้จ่ายมารองรับให้เพียงพอ ซึ่งอาจจะมากกว่าการประหยัดที่เกิดขึ้น (แต่อาจจะน้อยกว่าทางออกแรก)
            ขณะที่อีกสองเสาหลักแทบไม่ได้เปลี่ยบแปลง โรงเรียนยังคงอยู่เป็นศูนย์กลางของชุมชน ส่วนคุณภาพการเรียนการสอนไม่ได้เปลี่ยนแปลงไปหรืออาจจะดีขึ้น เนื่องจากยังเป็นครูชุดเดิม แต่อุปกรณ์การเรียนอาจจะดีขึ้น เพราะสามารถลงทุนให้เกิดการประหยัดจากขนาดได้</p>
        </div>
    </section>
    <section id='innovation' class='active'>
        <h3>การปรับตัวของโรงเรียนทางการเรียนการสอน</h3>
        <p>ทางออกอื่นๆ อาจจะเป็นนวัตกรรมทางการศึกษาใหม่ๆ ซึ่งจะต้องหา “สมดุล” ของ 3 เสาที่โรงเรียนจำเป็นต้องมี ที่ผ่านมาเองหลายคนอาจจะเห็นนวัตกรรมอย่าง “ป่าผ้าการศึกษา” เพื่อเรี่ยไรเงินงบประมาณมาสนับสนุนการศึกษาของโรงเรียนชุมชน บางแห่งเลือกปรับใช้ “การคละห้องเรียน” และจัดการศึกษาภายใต้ปรัชญาแบบใหม่ ซึ่งสามารถตอบโจทย์การประหยัดงบประมาณลงและเพิ่มคุณภาพการเรียนการสอนได้
        แล้วโรงเรียนคุณหละมีไอเดียอะไรน่าสนใจบ้าง?</p>
    </section>
    <section id='summary' class='active'>
        <h3>สรุป</h3>
        <p>หากถามว่าใครต้องตัดสิน… อาจจะตอบไม่ได้ง่ายนัก แต่ละชุมชน แต่ละโรงเรียน ต่างมีความพร้อมและความต้องการที่แตกต่างกันไป ในมุมมองภาครัฐอาจจะต้องการควบรวมโรงเรียนให้ใหญ่และมีงบประมาณมากขึ้น 
            ส่วนมุมมองโรงเรียนอาจจะเน้นไปที่การหานวัตกรรมและการบริหารงบประมาณรูปแบบใหม่ๆ และแต่ละชุมชนเองอาจจะมีนวัตกรรมอื่นๆที่เหมาะสมกับตัวเอง เช่น ผ้าป่าการศึกษา หรือหลักสูตรใหม่ๆจากต่างประเทศ
            ที่สำคัญในภาพใหญ่กว่านั้นอาจจะต้องกลับมาตั้งคำถามกับรูปแบบการจัดสรรงบประมาณ เพราะการจัดสรรงบประมาณอย่าง “เท่ากัน” อาจจะไม่ได้เท่ากับ “เท่าเทียม” เสมอไป</p>
    </section> 
    <section id='thankYou' class='active'>
        <h3>ขอขอบคุณ</h3>
        <h4>ข้อมูลและคำแนะนำ<h4>
        <p>ข้อมูลจากโครงการประเทศไทยในอนาคต Future Thailand : มิติที่ 3 การศึกษา (อยู่ในระหว่างการศึกษา) โดย สถาบันวิจัยเพื่อการพัฒนาประเทศไทย สนับสนุนโดย สำนักงานคณะกรรมการวิจัยแห่งชาติ</p>
        <h4>ผู้สนับสนุนโครงการ</h4>
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-xl-6">
                    <img class="img-fluid" src="./images/logos/themomentum.svg">
                 </div>
                <div class="col-xl-2">
                    <img class="img-fluid"src="./images/logos/jc.png">
                 </div>   
                <div class="col-xl-4"> 
                    <img class="img-fluid"src="./images/logos/salforest.png">
                </div>   
            </div> 
            <div class="row align-items-center">
                <div class="col-xl-5">
                    <img class="img-fluid" src="./images/logos/punchup.png">      
                 </div>
                <div class="col-xl-2">
                    <img class="img-fluid" src="./images/logos/DTAC.svg">  
                 </div>
                <div class="col-xl-5">
                    <img class="img-fluid" src="./images/logos/TDRI.png">
                </div>   
            </div>                                                
         </div>   
    </section>   
    <section id='reference' class='active'>
        <h3>ขอขอบคุณ</h3>
        <h4>งานวิจัย<h4>
        <p>โครงการประเทศไทยในอนาคต Future Thailand : มิติที่ 3 การศึกษา (อยู่ในระหว่างการศึกษา) โดย สถาบันวิจัยเพื่อการพัฒนาประเทศไทย สนับสนุนโดย สำนักงานคณะกรรมการวิจัยแห่งชาต</p>
        <h4>อื่นๆ<h4>
        <p>ข้อมูลรายชื่อโรงเรียน สพฐ โดย ระบบสารสนเทศเพื่อบริหาร การศึกษา (EMIS)</p>
        <h4>ผู้จัดทำ</h4>
    </section>                
</div>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYXRoaXdhdGJpbGwiLCJhIjoiY2s3YWZiYW43MHRldTNtbnUxNXFxbjB5eSJ9.vNS0iagK7dEGlQzqXeZeWg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/athiwatbill/ck8g804954cf51invam7l3zv9',
        bearing: -0,
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        speed: 0.8,
        pitch: 0
});

var layers = [
        'SchoolInfo',
        'SmallSchool',
        'ThankYou',
        'Case',
        'Route',
        'Innovation',
    ];

function makeActive(activeLayer) {
    map.setLayoutProperty(activeLayer, 'visibility', 'visible');
    for (let layer in layers) {  
        if (layers[layer] != activeLayer) {
            map.setLayoutProperty(layers[layer], 'visibility', 'none');
        }
    }
}    


var chapters = {
    'frontPage': {
        bearing: -0,
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        speed: 0.8,
        pitch: 0,        
        layer: 'SchoolInfo'
    },
    'background': {
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        speed: 0.8,
        pitch: 0,
        layer: 'SchoolInfo'
    },
    'composition': {
        bearing: -0,
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        speed: 0.8,
        pitch: 0,  
        layer: 'SmallSchool'
    },
    'declineTrend': {
        bearing: 12.80,
        center: [101.0993445, 11.034261254],
        zoom: 13.18,
        speed: 0.6,
        pitch: 0.00,
        layer: 'SmallSchool'
    },
    'crisis': {
        bearing: 12.80,
        center: [101.0993445, 11.034261254],
        zoom: 13.18,
        speed: 0.6,
        pitch: 0.00,
        layer: 'SmallSchool'
    },
    'wayout': {
        bearing: 12.80,
        center: [101.0993445, 11.034261254],
        zoom: 13.18,
        speed: 0.6,
        pitch: 0.00,
        layer: 'SmallSchool'
    },        
    'casePatum': {
        bearing: -40,
        center: [100.690822, 14.073545],
        zoom: 10,
        speed: 0.6,
        pitch: -60,
        layer: 'Case'
    },
    'section5': {
        bearing: 15.20,
        center:  [100.690822, 14.073545],
        zoom: 10.56,
        pitch: 40.50,
        speed: 0.6,
        layer: 'Route'
    },
    'kangJun': {
        bearing: 15.20,
        center:  [100.690822, 14.073545],
        zoom: 10.56,
        pitch: 40.50,
        speed: 0.6,
        layer: 'Kangjun'
    },
    'innovation': {
        bearing: 0,
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        pitch: 0,
        speed: 0.6,
        layer: 'Innovation'
    },
    'summary': {
        bearing: -0,
        center: [101.0993445, 11.034261254],
        zoom: 4.9,
        speed: 0.8,
        pitch: 0,        
        layer: 'SchoolInfo'
    },    
    'thankYou': {
        bearing: 0,
        center: [100.578000,13.904003],
        zoom: 10.7,
        speed: 1,
        pitch: -40,
        layer: 'ThankYou'
    },
    'reference': {
        bearing: 0,
        center: [100.578000,13.904003],
        zoom: 10.7,
        speed: 1,
        pitch: -40,
        layer: 'ThankYou'
    },
};
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);

    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];

        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};
var activeChapterName = 'baker';
function setActiveChapter(chapterName) {
    // console.log('setActiveChapter ' + chapterName)
        // console.log('activeChapterName ' + activeChapterName)

    if (chapterName === activeChapterName) return;
    map.flyTo(chapters[chapterName]);
    document.getElementById(chapterName).setAttribute('class', 'active');
        // document.getElementById(activeChapterName).setAttribute('class', '');

    // document.getElementById(activeChapterName).setAttribute('class', '');
    activeChapterName = chapterName;

    makeActive((chapters[chapterName]).layer)
}
function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}

  map.on('load', function () {
     var popup = new mapboxgl.Popup({
            closeButton: false,
            closeOnClick: false
        });

        map.on('mouseenter', 'Case', function(e) {
            // Change the cursor style as a UI indicator.
            map.getCanvas().style.cursor = 'pointer';

            // Populate the popup and set its coordinates
            // based on the feature found.

            popup.setLngLat(e.features[0].geometry.coordinates)
                .setHTML(e.features[0].properties.OriginSchool)
                .addTo(map);
        });

        map.on('mouseleave', 'Case', function() {
            map.getCanvas().style.cursor = '';
            popup.remove();
        });

        map.on('mouseenter', 'SchoolInfo', function(e) {
            // Change the cursor style as a UI indicator.
            map.getCanvas().style.cursor = 'pointer';

            // Populate the popup and set its coordinates
            // based on the feature found.

            popup.setLngLat(e.features[0].geometry.coordinates)
                .setHTML(e.features[0].properties.name)
                .addTo(map);
        });

        map.on('mouseleave', 'SchoolInfo', function() {
            map.getCanvas().style.cursor = '';
            popup.remove();
        });
  

        // map.addSource('route', {
        // 'type': 'geojson',
        // 'data': {
        // 'type': 'Feature',
        // 'properties': {},
        // 'geometry': {
        // 'type': 'LineString',
        // 'coordinates': [
        // [101.0993445, 11.034261254],
        // [100.690822, 14.073545]
        // ]
        // }
        // }
        // });

        // map.addLayer({
        // 'id': 'Route',
        // 'type': 'line',
        // 'source': 'route',
        // 'layout': {
        // 'line-join': 'round',
        // 'line-cap': 'round'
        // },
        // 'paint': {
        // 'line-color': '#888',
        // 'line-width': 8
        // }
        // });

        makeActive('SchoolInfo')

        });

 map.on('styledata', function() {
   // makeActive('SchoolInfo')
 });




</script>
</body>
</html>